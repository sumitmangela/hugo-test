{{ $data := or (index .Site.Data .Site.Language.Lang).content .Site.Data.content }}
{{ .Scratch.Set "data" $data }}
<!DOCTYPE html>
<html lang="en">
    {{ partial "head.html" . }}
<body>
    <div class="content">
        {{ partial "_menu.html" $data }}

        {{ partial "_profile.html" $data }}
        {{ partial "_summary.html" $data }}

        {{ partial "_skills.html" $data }}

        {{ partial "_experience.html" $data }}

        <!-- <div class="content_column">
            <div class="content_column__left">
                {{ partial "_skills.html" $data }}
            </div>
            <div class="content_column__right">
                {{ partial "_experience.html" $data }}
            </div>
        </div> -->

        {{ partial "_education.html" $data }}

        <!-- manually introduce pagebreak for printing -->
        <!-- {{ partial "_pagebreak.html" $data }} -->

        {{ partial "_publications.html" $data }}
        {{ partial "_links.html" $data }}
        {{ partial "_interests.html" $data }}

        {{ partial "_print.html" $data }}
        </div>
    </div>
    <script>
           //updating current date differnce
           var dateElements = document.getElementsByClassName("current_date");

            // Loop through each date element
            for (var i = 0; i < dateElements.length; i++) {
                currentDate = dateElements[i].innerHTML;
                d1 = new Date();               
                d2 = new Date(currentDate);             
                dy = d1.getYear()  - d2.getYear();
                dm = d1.getMonth() - d2.getMonth();
                dd = d1.getDate()  - d2.getDate();

                if (dd < 0) { dm -= 1; dd += 30; }
                if (dm < 0) { dy -= 1; dm += 12; }

                dateDifference = ""
                if(dy){
                    dateDifference += dy +' '+ (dy > 1 ? 'years':'year')
                }
                if(dm){
                    dateDifference += ' '+ dm +' '+ (dm > 1 ? 'months':'month')
                }
                dateElements[i].innerHTML = dateDifference;
            }
    </script>
</body>
</html>
